<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template_restrito.xhtml">

	<ui:define name="body">

		<div class="page-content">

			<div class="container-fluid">

				<div class="row">

					<div class="col-md-12 mb-4">
					
						<h2 class="section-heading">Usuários</h2>
						<hr class="mt-4 mb-5"></hr>

						<p:commandButton value="Adicionar usuário" 
										 type="button"
										 onclick="PF('modalAdicionarUsuario').show();" />

						<h:form id="form-lista-usuarios">

							<p:messages id="growl" autoUpdate="true" closable="true" />
							
							<div style="clear: both; margin-bottom: 10px"></div>

							<p:dataTable id="lista-usuarios" var="usuario" value="#{usuarioBean.usuarios}">

								<p:column headerText="Nome">
									<h:outputText value="#{usuario.nome}" />
								</p:column>

								<p:column headerText="E-Mail">
									<h:outputText value="#{usuario.email}" />
								</p:column>
								
								<p:column headerText="Excluir">
									<p:commandButton icon="ui-icon-trash"
													 update="form-remover-usuario"
													 actionListener="#{usuarioBean.selecionarUsuarioRemocao(usuario)}" 
													 onclick="PF('modalRemoverUsuario').show();" >
									</p:commandButton>
								</p:column>

							</p:dataTable>

						</h:form>

					</div>

				</div>

			</div>

		</div>

		<ui:include src="/includes/modal/adicionar-usuario.xhtml" />
		<ui:include src="/includes/modal/remover-usuario.xhtml" />

	</ui:define>

</ui:composition>